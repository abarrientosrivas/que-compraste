<div class="report-card">
<div class="row justify-content-center">
  <div class="col">
    <form [formGroup]="formGroup">
      <h5>Por producto</h5>
      <p-dropdown
        formControlName="selectedProduct"
        [options]="products"
        optionLabel="read_product_text"
        placeholder="Seleccione un producto"
      />
    </form>
  </div>
  <div class="col">
    <form [formGroup]="formGroup">
      <h5>Por categoría</h5>
      <p-dropdown
        formControlName="selectedCategory"
        [options]="categories"
        optionLabel="name_es_es"
        placeholder="Seleccione una categoría"
      />
    </form>
  </div>
</div>
<div *ngIf="selectedProduct || selectedCategory" class="row justify-content-center mt-4 mb-4">
  <div class="col text-right">
    <div class="data-container">
      <div>
        <div *ngIf="selectedCategory"><h4>Categoría:</h4> <h2><b>{{ selectedCategory.name_es_es }}</b></h2></div>
        <div *ngIf="selectedProduct"><h4>Producto:</h4> <h2><b>{{ selectedProduct.read_product_text }}</b></h2></div>
      </div>
      <div class="next-purchase" *ngIf="mainPrediction">
        <h5>Compra sugerida</h5>
        <h3 class="prediction-container">
          <p-badge [value]="mainPrediction.quantity"></p-badge>
          <span>unidades</span>
        </h3>
        <p class="purchase-info"><i class="pi pi-calendar" style="margin-right: 8px;"></i> Para el {{ formatLongDate(mainPrediction.date) }}</p>
      </div>
    </div>

    <div class="d-flex align-items-center" style="display: block">
      <hr
        style="
          color: rgb(75, 192, 192);
          background-color: rgb(75, 192, 192);
          opacity: 100%;
          width: 5%;
          height: 15px;
          display: block;
          margin-left: 1em;
          margin-right: 1em;
        "
      />
      Histórico
      <hr
        *ngIf="predictionExist"
        style="
          color: rgb(192, 75, 75);
          background-color: rgb(192, 75, 75);
          opacity: 100%;
          width: 5%;
          height: 15px;
          display: block;
          margin-left: 3em;
          margin-right: 1em;
        "
      />
      <span *ngIf="predictionExist">Prediccion</span>
    </div>
    <div class="card">
      <div style="width: 800px, auto"><canvas id="ctx"></canvas></div>
    </div>
  </div>
</div>
</div>